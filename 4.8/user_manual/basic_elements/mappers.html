

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Mappers &#8212; Chaco 4.8</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <link rel="shortcut icon" href="../../_static/et.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Plot renderers" href="plot_renderers.html" />
    <link rel="prev" title="Data ranges" href="data_ranges.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="plot_renderers.html" title="Plot renderers"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="data_ranges.html" title="Data ranges"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Chaco 4.8</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >User guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../introduction.html" accesskey="U">Introduction</a> &#187;</li>
  
    <li><a href="#">Mappers</a></li>
  

      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mappers">
<h1>Mappers<a class="headerlink" href="#mappers" title="Permalink to this headline">¶</a></h1>
<p>Mappers perform the job of mapping a data space region to screen space,
and vice versa. They are used by plots to transform their data sources
to pixel coordinates on the screen. While most of the time this is
a relatively simple rescaling operation, mapper can also be used
for non-linear transformations, most notably to map a data source
to logarithmic coordinates on screen.</p>
<div class="section" id="interface">
<h2>Interface<a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h2>
<p>The general interface for mappers is defined in
<code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractMapper</span></code> and defines only a few
methods:</p>
<blockquote>
<div><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">map_screen(data_value)</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">map_data(screen_value)</span></code></p>
<blockquote>
<div><p>Maps a vector of data coordinates to screen coordinates, and vice versa.</p>
</div></blockquote>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">map_data_array(screen_value_array)</span></code></p>
<blockquote>
<div><p>Maps an array of points in data coordinates to screen coordinates.
By default, this method just loops over the points, calling <code class="xref py py-attr docutils literal notranslate"><span class="pre">map_data()</span></code>
on each one.  For vectorizable mapping functions, this
implementation is overridden with a faster one.</p>
</div></blockquote>
</div></blockquote>
<p>Mappers for 1D data have a slightly larger interface, defined in
<code class="xref py py-class docutils literal notranslate"><span class="pre">Base1DMapper</span></code>. These mappers rely
on a <code class="xref py py-class docutils literal notranslate"><span class="pre">DataRange1D</span></code> object to find the
bounds on the data domain.</p>
<blockquote>
<div><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">range</span></code></p>
<blockquote>
<div><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">DataRange1D</span></code> instance to define the
data-space bounds of the mapper. The mapper listens to the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">updated</span></code> event of the range and re-fires it as its
own <code class="xref py py-attr docutils literal notranslate"><span class="pre">updated</span></code> event (see below).</p>
</div></blockquote>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">low_pos</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">high_pos</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">screen_bounds</span></code>,</p>
<blockquote>
<div><p>The screen space position of the lower/upper bound of the data space.
<code class="xref py py-attr docutils literal notranslate"><span class="pre">screen_bounds</span></code> is a convenience property to set/get the screen
bounds with a single attribute.</p>
</div></blockquote>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">stretch_data</span></code></p>
<blockquote>
<div><p>When the screen bounds change (in response, for instance, to the
window resizing) one could either fit more data space on the screen, or
stretch the data space to the new bounds.
If <code class="xref py py-attr docutils literal notranslate"><span class="pre">stretch_data</span></code> is True (default), the data is stretched;
if it is False, the mapper preserves the screen-to-data ratio.</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractMapper</span></code> interface defines a single
generic event,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">updated</span></code>,
which is fired when the bound values change.</p>
<p>For subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">Base1DMapper</span></code>, the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">updated</span></code> event is also fired in response to an <code class="xref py py-attr docutils literal notranslate"><span class="pre">updated</span></code> event
fired by the underlying data range.
The value of the new event is the tuple <code class="docutils literal notranslate"><span class="pre">(low_bound,</span> <span class="pre">high_bound)</span></code> contained
in the triggering event.</p>
</div>
<div class="section" id="list-of-chaco-data-mappers">
<h2>List of Chaco data mappers<a class="headerlink" href="#list-of-chaco-data-mappers" title="Permalink to this headline">¶</a></h2>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">LinearMapper</span></code> (subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">Base1DMapper</span></code>)</p>
<blockquote>
<div><p>This mapper transforms a 1D data space range linearly to a fixed 1D range
in screen space.</p>
</div></blockquote>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">LogMapper</span></code> (subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">Base1DMapper</span></code>)</p>
<blockquote>
<div><p>Maps a 1D data space range to a 1D range in screen space through a
logarithmic transform. Data values
smaller than or equal to 0.0 are
substituted by <code class="xref py py-attr docutils literal notranslate"><span class="pre">fill_value</span></code>
(default is 1.0) before the logarithmic transformation.</p>
</div></blockquote>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">GridMapper</span></code></p>
<blockquote>
<div><p>Same as <code class="xref py py-class docutils literal notranslate"><span class="pre">LinearMapper</span></code> for 2D ranges. This class
replaces the <code class="xref py py-class docutils literal notranslate"><span class="pre">Base1DMapper</span></code> attributes with analogous ones:</p>
<blockquote>
<div><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">range</span></code></p>
<blockquote>
<div><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">DataRange2D</span></code> instance to define the
data-space bounds of the mapper.</p>
</div></blockquote>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">x_low_pos</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">y_low_pos</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">x_high_pos</span></code>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">y_high_pos</span></code></p>
<blockquote>
<div><p>Screen space positions for the lower and upper bounds of the x and
y axes.</p>
</div></blockquote>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">screen_bounds</span></code></p>
<blockquote>
<div><p>Convenience property to set/get the screen bounds with a single attribute.
The value of this attribute is a 4-element tuple
<code class="docutils literal notranslate"><span class="pre">(x_low_pos,</span> <span class="pre">x_high_pos,</span> <span class="pre">y_low_pos,</span> <span class="pre">y_high_pos)</span></code>.</p>
</div></blockquote>
</div></blockquote>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">GridMapper</span></code> uses two
<code class="xref py py-class docutils literal notranslate"><span class="pre">Base1DMapper</span></code> instances to define mappers for
the two axes (accessible from the two private attributes
<code class="xref py py-attr docutils literal notranslate"><span class="pre">_xmapper</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">_ymapper</span></code>).
It thus possible to set them to be linear or
logarithmic mappers. This is best made using the class constructor, which has
this signature:</p>
<blockquote>
<div><p><code class="xref py py-class docutils literal notranslate"><span class="pre">GridMapper(x_type=&quot;linear&quot;,</span> <span class="pre">y_type=&quot;linear&quot;,</span> <span class="pre">range=None,</span> <span class="pre">**kwargs)</span></code></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">x_type</span></code> and <code class="docutils literal notranslate"><span class="pre">y_type</span></code> can be either ‘linear’ or ‘log’, which will
create a corresponding <code class="xref py py-class docutils literal notranslate"><span class="pre">LinearMapper</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">LogMapper</span></code> classes.</p>
</div></blockquote>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">PolarMapper</span></code></p>
<blockquote>
<div><p>This class should map data polar coordinates to screen cartesian coordinates,
to use for example with a <code class="xref py py-class docutils literal notranslate"><span class="pre">PolarLineRenderer</span></code>,
but at the moment it is a copy of <code class="xref py py-class docutils literal notranslate"><span class="pre">LinearMapper</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The implementation of this mapper is under construction.</p>
</div>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/e-logo-rev.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Mappers</a><ul>
<li><a class="reference internal" href="#interface">Interface</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#list-of-chaco-data-mappers">List of Chaco data mappers</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data_ranges.html"
                        title="previous chapter">Data ranges</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plot_renderers.html"
                        title="next chapter">Plot renderers</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user_manual/basic_elements/mappers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="plot_renderers.html" title="Plot renderers"
             >next</a></li>
        <li class="right" >
          <a href="data_ranges.html" title="Data ranges"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Chaco 4.8</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >User guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../introduction.html" >Introduction</a> &#187;</li>
  
    <li><a href="#">Mappers</a></li>
  

      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2019, Enthought, Inc..
      Last updated on Aug 07, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>
  </body>
</html>