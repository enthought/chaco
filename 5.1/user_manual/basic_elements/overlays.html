
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Overlays: Axis, Grid, etc. &mdash; chaco 5.1.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" >
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '5.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '.html',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../../_static/img/favicon.png">
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="top" title="chaco 5.1.0 documentation" href="../../index.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../../index.html">chaco 5.1.0 documentation</a></li>
	
  
    <li><a href="#">Overlays: Axis, Grid, etc.</a></li>
  

    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="overlays-axis-grid-etc">
<h1>Overlays: Axis, Grid, etc.<a class="headerlink" href="#overlays-axis-grid-etc" title="Permalink to this headline">¶</a></h1>
<p>Overlays are elements that decorate plots, like for example
axes, legends, grids, etc.</p>
<p>Overlays are very similar to regular plot elements, and share most
of their interface with <a class="reference internal" href="plot_renderers.html#plot-renderers"><span class="std std-ref">plot renderers</span></a>
(both are subclasses of <a class="reference internal" href="../../api/chaco.plot_component.html#chaco.plot_component.PlotComponent" title="chaco.plot_component.PlotComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">chaco.plot_component.PlotComponent</span></code></a>).</p>
<p>In addition, they have a lightweight interface defined in
<a class="reference internal" href="../../api/chaco.abstract_overlay.html#chaco.abstract_overlay.AbstractOverlay" title="chaco.abstract_overlay.AbstractOverlay"><code class="xref py py-class docutils literal notranslate"><span class="pre">chaco.abstract_overlay.AbstractOverlay</span></code></a>: the additional
features are that</p>
<ol class="arabic simple">
<li><p>they keep a reference to the plot they are decorating in
<a class="reference internal" href="../../api/chaco.abstract_overlay.html#chaco.abstract_overlay.AbstractOverlay.component" title="chaco.abstract_overlay.AbstractOverlay.component"><code class="xref py py-attr docutils literal notranslate"><span class="pre">component</span></code></a>;</p></li>
<li><p>the background color <a class="reference internal" href="../../api/chaco.abstract_overlay.html#chaco.abstract_overlay.AbstractOverlay.bgcolor" title="chaco.abstract_overlay.AbstractOverlay.bgcolor"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bgcolor</span></code></a>
is ‘transparent’ by default;</p></li>
<li><p>they plot <a class="reference internal" href="plot_renderers.html#plot-layers"><span class="std std-ref">on the ‘overlay’ layer</span></a> by default.</p></li>
</ol>
<div class="section" id="core-overlays">
<h2>Core Overlays<a class="headerlink" href="#core-overlays" title="Permalink to this headline">¶</a></h2>
<p>There are three important classes of overlays defined in Chaco:
<span class="xref std std-ref">axes</span>, <span class="xref std std-ref">legends</span>, and <span class="xref std std-ref">grids</span>.</p>
<div class="section" id="axes">
<span id="id1"></span><h3>Axes<a class="headerlink" href="#axes" title="Permalink to this headline">¶</a></h3>
<p>The Chaco overlay representing a plot axis is defined in the class
<a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis" title="chaco.axis.PlotAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotAxis</span></code></a>.</p>
<p>A new axis is created by passing a
mapper, usually the mapper defined for the corresponding plot data coordinate.
<a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis" title="chaco.axis.PlotAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotAxis</span></code></a> also defines a range of attributes to customize
the appearance of labels, ticks, and other axis elements. For example,
given an X-Y plot renderer, <code class="docutils literal notranslate"><span class="pre">plot</span></code>, we can define a new x-axis as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AXIS_DEFAULTS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;axis_line_weight&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;tick_weight&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;tick_label_font&#39;</span><span class="p">:</span> <span class="s1">&#39;modern 16&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_font&#39;</span><span class="p">:</span> <span class="s1">&#39;modern 20&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">x_axis</span> <span class="o">=</span> <span class="n">PlotAxis</span><span class="p">(</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;My x axis&#39;</span><span class="p">,</span>
    <span class="n">mapper</span><span class="o">=</span><span class="n">plot</span><span class="o">.</span><span class="n">x_mapper</span><span class="p">,</span>
    <span class="n">component</span><span class="o">=</span><span class="n">plot</span><span class="p">,</span>
    <span class="o">**</span><span class="n">AXIS_DEFAULTS</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The newly created axis can then be attached to the plot renderer by
appending it to its underlays layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="o">.</span><span class="n">underlays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x_axis</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="minor-axes-ticks">
<h4>Minor Axes Ticks<a class="headerlink" href="#minor-axes-ticks" title="Permalink to this headline">¶</a></h4>
<p>The Chaco overlay representing a <em>minor</em> plot axis is defined in the class
<a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.MinorPlotAxis" title="chaco.axis.MinorPlotAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinorPlotAxis</span></code></a> (a subclass of
<a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis" title="chaco.axis.PlotAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotAxis</span></code></a>). This overlay adds minor tick marks to an axis.</p>
<p>A <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.MinorPlotAxis" title="chaco.axis.MinorPlotAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinorPlotAxis</span></code></a> should be added along with a
<a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis" title="chaco.axis.PlotAxis"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlotAxis</span></code></a>. For example, minor axis tick marks can be
added with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x_major_axis</span> <span class="o">=</span> <span class="n">PlotAxis</span><span class="p">(</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;My x axis&#39;</span><span class="p">,</span>
    <span class="n">mapper</span><span class="o">=</span><span class="n">plot</span><span class="o">.</span><span class="n">x_mapper</span><span class="p">,</span>
    <span class="n">component</span><span class="o">=</span><span class="n">plot</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">underlays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x_major_axis</span><span class="p">)</span>

<span class="n">x_minor_axis</span> <span class="o">=</span> <span class="n">MinorPlotAxis</span><span class="p">(</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span>
    <span class="n">mapper</span><span class="o">=</span><span class="n">plot</span><span class="o">.</span><span class="n">x_mapper</span><span class="p">,</span>
    <span class="n">component</span><span class="o">=</span><span class="n">plot</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">underlays</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x_minor_axis</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="attributes">
<h4>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h4>
<p>These attributes control the appearance of the axis:</p>
<dl>
<dt><a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.title" title="chaco.axis.PlotAxis.title"><code class="xref py py-attr docutils literal notranslate"><span class="pre">title</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.title_font" title="chaco.axis.PlotAxis.title_font"><code class="xref py py-attr docutils literal notranslate"><span class="pre">title_font</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.title_color" title="chaco.axis.PlotAxis.title_color"><code class="xref py py-attr docutils literal notranslate"><span class="pre">title_color</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.title_spacing" title="chaco.axis.PlotAxis.title_spacing"><code class="xref py py-attr docutils literal notranslate"><span class="pre">title_spacing</span></code></a> <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.title_angle" title="chaco.axis.PlotAxis.title_angle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">title_angle</span></code></a></dt><dd><p>Define the axis label. <code class="xref py py-attr docutils literal notranslate"><span class="pre">title</span></code> is a string or unicode object
that is rendered using the given font and color. <code class="xref py py-attr docutils literal notranslate"><span class="pre">title_font</span></code> is
a string describing a font (e.g. ‘12 pt bold italic’,
‘swiss family Arial’ or ‘default 12’; see
<code class="xref py py-class docutils literal notranslate"><span class="pre">TraitKivaFont</span></code> for details).
Finally, <code class="xref py py-attr docutils literal notranslate"><span class="pre">title_spacing</span></code> is the space between the axis line and the
title (either the number of pixels or ‘auto’, default) and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">title_angle</span></code> can be overridden to change the rotation angle (in deg,
wrt horizontal).</p>
</dd>
<dt><a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_weight" title="chaco.axis.PlotAxis.tick_weight"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_weight</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_color" title="chaco.axis.PlotAxis.tick_color"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_color</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_in" title="chaco.axis.PlotAxis.tick_in"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_in</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_out" title="chaco.axis.PlotAxis.tick_out"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_out</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_visible" title="chaco.axis.PlotAxis.tick_visible"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_visible</span></code></a>,</dt><dd><p>These attributes control the aspect of the ticks on the axis.
If <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_visible</span></code> is True, ticks are represented as lines of
color <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_color</span></code> (default is black) and thickness
<code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_weight</span></code> (in pixels, default is 1). Each line extends into the
plot area by <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_in</span></code> pixels and into the label area by
<code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_out</span></code> pixels (default is 5).</p>
</dd>
<dt><a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_font" title="chaco.axis.PlotAxis.tick_label_font"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_font</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_color" title="chaco.axis.PlotAxis.tick_label_color"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_color</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_rotate_angle" title="chaco.axis.PlotAxis.tick_label_rotate_angle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_rotate_angle</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_alignment" title="chaco.axis.PlotAxis.tick_label_alignment"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_alignment</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_margin" title="chaco.axis.PlotAxis.tick_label_margin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_margin</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_offset" title="chaco.axis.PlotAxis.tick_label_offset"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_offset</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_position" title="chaco.axis.PlotAxis.tick_label_position"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_position</span></code></a>,</dt><dd><p>These attributes allow to fine-tune the aspect of the tick labels:
first of all, the font (e.g. ‘12 pt bold italic’) and color of the
labels. The position and orientation of the label can be also be
closely controlled: <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_rotate_angle</span></code> give the rotation
angle (only multiples of 90 degrees are supported);
<code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_alignment</span></code> selects whether the corner (‘corner’) or center
(‘edge’, default) of the label are aligned to the corresponding tick
(‘corner’ is better for 45 degrees rotation); <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_margin</span></code>
and <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_offset</span></code> control the margin around the
tick labels, and their distance from the axis; finally,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_position</span></code> can be set to either ‘outside’ (default)
or ‘inside’ depending on whether the labels should be displayed inside
or outside the plot area.</p>
</dd>
<dt><a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_label_formatter" title="chaco.axis.PlotAxis.tick_label_formatter"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_formatter</span></code></a></dt><dd><p>By default, tick labels are assumed to be floating point numbers, and are
displayed as such after removing trailing zeros and the decimal dot if
necessary (e.g., ‘10.000’ will be displayed as ‘10’, and ‘21.10’ as ‘21.1’).
The default behavior can be changed by setting <code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_label_formatter</span></code>
to a callable that takes the value of the tick label and returns a
formatted string.</p>
</dd>
<dt><a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_interval" title="chaco.axis.PlotAxis.tick_interval"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_interval</span></code></a>, <a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.tick_generator" title="chaco.axis.PlotAxis.tick_generator"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_generator</span></code></a>,</dt><dd><p>Locations and distances of ticks are controlled by the attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">tick_generator</span></code></p>
<p>Default is chaco.ticks.auto_ticks or chaco.ticks.log_auto_ticks</p>
</dd>
</dl>
<p><code class="xref py py-attr docutils literal notranslate"></code>
<code class="xref py py-attr docutils literal notranslate"></code></p>
</div>
<div class="section" id="events">
<h4>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h4>
<dl class="simple">
<dt><a class="reference internal" href="../../api/chaco.axis.html#chaco.axis.PlotAxis.updated" title="chaco.axis.PlotAxis.updated"><code class="xref py py-attr docutils literal notranslate"><span class="pre">updated</span></code></a></dt><dd><p>Fired when the axis’s range bounds change.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="textboxoverlay">
<span id="tools-text-box-overlay"></span><h3>TextBoxOverlay<a class="headerlink" href="#textboxoverlay" title="Permalink to this headline">¶</a></h3>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">chaco.overlays.api.TextBoxOverlay</span></code> is the base class of
the overlay component of several inspector type tools (see above). It is
designed to draw a text box over the plots to display custom information.</p>
<p>The rendering of the text can be customized with the following attributes:</p>
<ul class="simple">
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">bgcolor</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">border_visible</span></code> to control the styling of the box,</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">alpha</span></code> to control the transparency of the text box,</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">text_color</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">font</span></code> to control how the text looks like,</p></li>
<li><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">align</span></code> to control what corner of the plot the text box should appear,</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The overlay can also be used directly by any custom tool that needs
to display information upon an event. It should be done by
subclassing the overlay and defining a listener on the inspector’s
state which will modify the overlay’s <code class="xref py py-attr docutils literal notranslate"><span class="pre">text</span></code> (and optionally
visibility) attribute(s). After a <cite>text</cite> update, the component’s
<code class="xref py py-meth docutils literal notranslate"><span class="pre">request_redraw()</span></code> should be called. Good examples include
<code class="xref py py-class docutils literal notranslate"><span class="pre">chaco.overlays.api.ImageInspectorOverlay</span></code>.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/img/e-logo.png" alt="Logo">
            </a></p>
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Overlays: Axis, Grid, etc.</a><ul>
<li><a class="reference internal" href="#core-overlays">Core Overlays</a><ul>
<li><a class="reference internal" href="#axes">Axes</a><ul>
<li><a class="reference internal" href="#minor-axes-ticks">Minor Axes Ticks</a></li>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
<li><a class="reference internal" href="#textboxoverlay">TextBoxOverlay</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <div>
    <a href="../../_sources/user_manual/basic_elements/overlays.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2019, Enthought, Inc.
      </li>
      <li>
      Last updated on Nov 02, 2022.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.5.4.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>